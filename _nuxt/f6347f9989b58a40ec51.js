(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{320:function(t,e,n){var content=n(353);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("2f4eb334",content,!0,{sourceMap:!1})},352:function(t,e,n){"use strict";var r=n(320);n.n(r).a},353:function(t,e,n){(e=n(11)(!1)).push([t.i,"h4[data-v-6586a64b],h5[data-v-6586a64b]{background-color:#2e2e2e;border-radius:8px;padding:8px;font-weight:400}.hideBg[data-v-6586a64b]{border:0 solid transparent!important;background:none!important}.centerVH[data-v-6586a64b]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);text-align:center}@media screen and (max-width:780px){.centerVH[data-v-6586a64b]{width:90%}}.percent-change-title[data-v-6586a64b]{margin-bottom:0!important}@media screen and (max-width:780px){.v-card__title[data-v-6586a64b]{padding-top:0!important}}.active-cases[data-v-6586a64b]{margin-top:10px;margin-bottom:10px;text-align:center}.center-loader[data-v-6586a64b]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.chartContainer[data-v-6586a64b]{position:relative;width:100%;height:58vh;border:0 solid hsla(0,0%,100%,.7);background-color:#2e2e2e;padding:2%;border-radius:8px;transition:background-color .4s ease,border .4s ease}@media screen and (max-width:780px){.chartContainer[data-v-6586a64b]{height:54vh}}.chart[data-v-6586a64b]{opacity:1;transition:all .4s ease}.zeroOpacity[data-v-6586a64b]{opacity:0}",""]),t.exports=e},358:function(t,e,n){"use strict";n.r(e);n(10),n(9),n(6),n(8),n(24);var r=n(2),o=(n(17),n(52),n(18),n(19),n(40),n(4),n(60)),c=n(77);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var d={components:{},transition:function(t,e){return"slide-left"},data:function(){return{mdiMenuDown:o.e,active_cases:[],selectedActiveCases:0,selectedDate:0,loading:!1}},watch:{selectedCountry:function(){var t=this;this.selectedCountry&&document.querySelector("input").blur(),this.loading=!0,this.$store.dispatch("fetchCasesByCountry").finally((function(){return t.loading=!1})),this.$store.dispatch("fetchLatestStatByCountry")}},mounted:function(){var t=this,element=document.querySelector(".chart-page");new ResizeSensor(element,(function(){t.$store.commit("setPageHeight",element.offsetHeight+15)}))},methods:{numberWithSpaces:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")},onMouseMove:function(t){t?(this.selectedActiveCases=this.numberWithSpaces(t.data[0]),this.selectedDate=this.historyByCountry.find((function(e){return Number(e.Active)===t.data[0]})).Date):this.selectedActiveCases=null}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({historyByCountry:function(){return this.showAllHistory?this.historyByCountryFull:this.historyByCountryRecent},percentClass:function(){return this.percentageChange>0?"red--text text--lighten-2":"green--text text--lighten-2"},selectedCountry:{get:function(){return this.$store.state.selectedCountry},set:function(t){this.$store.commit("setSelectedCountry",t)}},labels:function(){return{xLabels:this.dates||["11/11","11/11","11/11","11/11","11/11"],yLabels:10,yLabelsTextFormatter:function(t){return Math.ceil(t)}}},dates:function(){return this.historyByCountry.length>6?[this.historyByCountry[0].Date,this.historyByCountry[this.historyByCountry.length-1].Date]:this.historyByCountry.map((function(t){return t.Date}))},activeCases:function(){return this.historyByCountry.map((function(t){return Number(t.Active)}))},five:function(){var t=this;return this.activeCases.filter((function(a,b){return t.activeCases.indexOf(a)===b}))},dataset:function(){return!this.activeCases.length>0?{data:[1e3,2e3,3e3,4e3,5e3],showPoints:!0,fill:!0,className:"active-cases"}:{data:this.activeCases,showPoints:!0,fill:!0,className:"active-cases"}}},Object(c.b)({historyByCountryRecent:function(t){return t.historyByCountry},historyByCountryFull:function(t){return t.historyByCountryFull},historyByCountryLoading:function(t){return t.historyByCountryLoading},affectedCountries:function(t){return t.affectedCountries.map((function(t){return t?t.name:null}))},percentageChange:function(t){return t.percentageChange},showAllHistory:function(t){return t.showAllHistory}}))},h=(n(352),n(63)),y=n(85),v=n.n(y),f=n(355),C=n(326),m=n(121),_=n(354),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container chart-page"},[n("v-layout",{attrs:{column:"","justify-center":"","align-center":""}},[n("v-row",[n("transition",{attrs:{name:"fade"}},[t.affectedCountries.length>0?n("v-autocomplete",{attrs:{"append-icon":t.mdiMenuDown,items:t.affectedCountries,shaped:"",dense:"","menu-props":{maxHeight:170},filled:"",label:"Search country"},model:{value:t.selectedCountry,callback:function(e){t.selectedCountry=e},expression:"selectedCountry"}}):t._e()],1)],1),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.percentageChange?n("h5",{staticClass:"my-3 percent-change-title",class:{hideBg:t.historyByCountryLoading}},[t.historyByCountryLoading?t._e():n("span",[n("span",{class:t.percentClass},[n("b",[t._v(t._s(t.percentageChange)+"%")])]),t._v("\n          over previous day\n        ")]),t._v(" "),t.historyByCountryLoading?n("span",[t._v("Â ")]):t._e()]):t._e()]),t._v(" "),n("h4",{staticClass:"active-cases",class:{hideBg:!t.activeCases.length>0&&!t.historyByCountryLoading}},[t.activeCases.length>0&&t.dates.length>0&&!t.historyByCountryLoading?n("span",[t._v("\n        Active cases in "+t._s(t.selectedCountry)+"\n        "),t.selectedActiveCases?n("span",[t._v("\n          :\n          "),n("span",{staticClass:"blue--text text--lighten-1"},[n("b",[t._v(t._s(t.selectedActiveCases))])]),t._v("\n          on\n          "),n("span",[t._v(t._s(t.selectedDate))])]):t._e()]):t._e(),t._v(" "),t.historyByCountryLoading?n("span",[t._v("Updating...")]):t._e()]),t._v(" "),t.activeCases.length>0&&t.dates.length>0||!t.loading?n("div",{staticClass:"chartContainer",class:{hideBg:t.historyByCountryLoading}},[n("transition",{attrs:{name:"fade"}},[!t.activeCases.length>0&&!t.dates.length>0&&!t.historyByCountryLoading?n("div",{staticClass:"centerVH"},[n("br"),t._v(" "),n("h4",[t._v("\n            Sorry, the history data is currently unavailable.\n            "),n("br"),t._v("Try again soon.\n            "),n("br"),t._v(" "),n("br"),t._v(" "),n("nuxt-link",{attrs:{to:"/stats"}},[t._v("View stats instead")])],1)]):t._e()]),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.historyByCountryLoading?n("v-progress-circular",{staticClass:"center-loader",attrs:{size:45,width:5,color:"white",indeterminate:""}}):t._e()],1),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.activeCases.length>0&&t.dates.length>0?n("TrendChart",{staticClass:"chart",class:{zeroOpacity:t.historyByCountryLoading},attrs:{interactive:!0,datasets:[t.dataset],grid:{verticalLines:!0,horizontalLines:!0},min:0,labels:t.labels},on:{"mouse-move":t.onMouseMove}}):t._e()],1)],1):t._e()],1)],1)}),[],!1,null,"6586a64b",null);e.default=component.exports;v()(component,{VAutocomplete:f.a,VLayout:C.a,VProgressCircular:m.a,VRow:_.a})}}]);